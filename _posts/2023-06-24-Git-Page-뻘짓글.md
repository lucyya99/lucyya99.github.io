---
layout: post
categories: github
tags: github gitpage
title: Git Page ê´€ë ¨ ì¼ê¸° (#999)
---

## 0. ì•Œì•„ë‘˜ ì 

ì´ë²ˆ ê¸€ì€ ì˜ì‹ì˜ íë¦„ëŒ€ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤...

## 1. .github í´ë” ì‚­ì œí•´ì•¼í•˜ëŠ” ì´ìœ 
yat í…Œë§ˆë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´, .github í´ë”ë„ í¬í•¨ëœë‹¤. ì´ê²Œ ì¤‘ìš”í•œ ì´ìœ ëŠ” .github í´ë” ì•ˆì— yat demoì— ëŒ€í•œ build and deploy ë°©ì‹ì´ ì íŒ íŒŒì¼ì´ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. 

ì›ë˜ ë¬¸ì œì ì€, _posts í´ë” ë‚´ì— md íŒŒì¼ì„ ì‘ì„±í•´ë„ ì‘ì„±í•œ ê¸€ì´ GitPageì— ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤.

ì‚¬ì§„ì€ yat github í™”ë©´ì´ë‹¤. yatì—ë§Œ ìˆì–´ì•¼í•˜ëŠ” ë¶„í™ìƒ‰ ë°•ìŠ¤ ë¶€ë¶„ì´ {id}.github.io ë¶€ë¶„ì— ê·¸ëŒ€ë¡œ ë‚˜íƒ€ë‚˜ì„œ ì˜ë¬¸ì„ ê°€ì§€ê²Œ ë˜ì—ˆë‹¤.

<img src="https://github.com/lucyya99/lucyya99.github.io/assets/80736490/a696d8c7-2edc-4926-bc86-014336c775ff">

ì½”ë“œë¥¼ í•˜ë‚˜í•˜ë‚˜ ë¹„êµí•´ ë³´ì•˜ë”ë‹ˆ, .github í´ë”ë§Œ ë‹¬ëë‹¤.

.github í´ë” ì•ˆì„ ëŒ€ì¶© ë³´ë‹ˆ, ì‹¤í–‰í•  ë¸Œëœì¹˜ëª…ë„ ë‹¤ë¥´ê³  ë”± ë´ë„ í…Œë§ˆ ì›ì‘ìê°€ ë³¸ì¸ ì„œë²„ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ë‘” ì½”ë“œê°™ì•„ ë³´ì—¬ì„œ ì´ê±¸ ì‚­ì œí•˜ë©´ ë˜ê² ë‹¤ ì‹¶ì—ˆë‹¤.

.github í´ë”ë¥¼ ì‚­ì œí•˜ë‹ˆ, ì„±ê³µí–ˆë‹¤!

<img src="https://github.com/lucyya99/lucyya99.github.io/assets/80736490/fbebf153-1c0c-45b1-a422-e826331e7d50">

## 2. í•˜ì§€ë§Œ ë‚¨ì€ ì˜ë¬¸ì  ...

ë¬¸ì œí•´ê²°ì€ ë˜ì—ˆì§€ë§Œ, ì—¬ì „íˆ ë‚´ repoì—ì„œëŠ” .github í´ë”ê°€ ìˆê³ , ì§€ì¸ repoì—ëŠ” .github í´ë”ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ë‹¤. ë‚˜ëŠ” ì´ê²Œ ë„ˆë¬´ ì´ìƒí•˜ë‹¤ê³  ìƒê°í•´ì„œ ê³„ì† ì°¨ì´ì ì„ ì°¾ì•„ë³´ì•˜ë‹¤.

í•œê°€ì§€ ì°¨ì´ì ì„ ë°œê²¬í–ˆë‹¤. ë¸Œëœì¹˜ì— ë°°í¬í–ˆë˜ ì§€ì¸ê³¼ëŠ” ë‹¤ë¥´ê²Œ, ë‚´ Actions íƒ­ì—ëŠ” commit ì´ë¦„ì´ í•œë²ˆ ë” ëœ¬ë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤.

<img src="https://github.com/lucyya99/lucyya99.github.io/assets/80736490/76868a95-d07e-42b7-9ba0-44655e2ce4d2"> 

<img src="https://github.com/lucyya99/lucyya99.github.io/assets/80736490/35f18bed-c958-4ead-9475-b768e5adfc60">

ì™¼ìª½ ë¶€ë¶„ì—ì„œ ë‚´ repoì— Deploy Jekyll(ì´í•˜ ìƒëµ) ë¶€ë¶„ì´ í•˜ë‚˜ ë” ë§ì€ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 

í˜¹ì‹œ new workflowë¥¼ ëˆŒëŸ¬ ìƒì„±í•˜ë©´ ë˜ëŠ”ì§€ ê¶ê¸ˆí•´ì„œ new workflow > Pages > Github Pages Jekyll > configure ë²„íŠ¼ì„ ëˆŒëŸ¬ ìƒˆë¡œìš´ workflowë¥¼ ìƒì„±í–ˆë”ë‹ˆ, ë‚´ .github í´ë”ì— ìˆë˜ íŒŒì¼ê³¼ ë˜‘ê°™ì€ íŒŒì¼ì´ ìƒì„±ë˜ì—ˆë‹¤.

**ì´ workflowë¼ëŠ” í´ë” ì•ˆì˜ íŒŒì¼ì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€, ì›ë˜ í…Œë§ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë‚´ ê²ƒì€ ë¬´ì—‡ì´ ë‹¤ë¥¸ì§€ ê¶ê¸ˆí•´ì ¸ì„œ ë‚´ repo ì½”ë“œì™€ yat repo ì½”ë“œë¥¼ ì§ì ‘ì ìœ¼ë¡œ ë¹„êµí•´ë³´ì•˜ë‹¤.**

- [lucyya99.github.io](https://github.com/lucyya99/lucyya99.github.io/blob/main/.github/workflows/jekyll-gh-pages.yml)
- [yat theme github](https://github.com/jeffreytse/jekyll-theme-yat/blob/master/.github/workflows/build-jekyll.yml)

### ì²˜ìŒ ë°œê²¬í•œ ì°¨ì´ì 

|ì°¨ì´ì  |ë‚´ repo|yat repo|
|:--------------------------|:--------------------------|:--------------------------|
|push í™•ì¸ ë¸Œëœì¹˜|main|master|
|build and deploy ê³¼ì •|buildì™€ deploy ê³¼ì •ìœ¼ë¡œ ë‚˜ë‰¨|build and deployë¡œ í•©ì³ì§|

### + ê°ê° ì½”ë“œì— ëŒ€í•œ ëŒ€ì¶© í•´ì„ (Github Actions ê³µë¶€ì „)

#### ë‚´ repo

build ê³¼ì •ì—ì„œ ë‚´ main ë¸Œëœì¹˜ë¡œ ì´ë™(Checkout), Jekyllì´ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±, ì—…ë¡œë“œ. deploy ê³¼ì •ì—ì„œ Github Pageë¡œ ë°°í¬.

#### yat repo

repoì˜ ì½”ë“œë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ tokenì„ ì´ìš©í•˜ì—¬ ì¸ì¦í•˜ê³ , gh-pagesë¼ëŠ” ë¸Œëœì¹˜ë¥¼ ë”°ë¡œ ì´ìš©í•œë‹¤(?) ì •ë„ë¡œ í•´ì„í–ˆìŒ.

### ì½”ë“œì—ì„œ ì°¾ì€ ê³µí†µì 

ì•„ì§ yat repo ì´í•´ëŠ” ì•ˆê°€ì§€ë§Œ yat í…Œë§ˆì™€ ë‚´ repoì—ì„œ ê³µí†µì ìœ¼ë¡œ actions/****@v* ì´ëŸ° í˜•ì‹ì´ ë‚˜ì™€ì„œ ì´ê±¸ ì•Œì•„ë³´ë©´ ì½”ë“œ ë™ì‘ë°©ì‹ì„ ì´í•´í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ë‹¤.

```yaml
actions/checkout@v2
```

ì´ì— ê´€í•´ ì¡°ê¸ˆ ë” ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ Github Actionsê°€ ë¬´ì—‡ì¸ì§€, ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ì•¼í•œë‹¤ê³  ìƒê°í–ˆë‹¤.

ì–¸ëœ» ìŠ¤ì³ì§€ë‚˜ê°€ëŠ” ê¸°ì–µì— Gitpage ë§Œë“¤ë©´ì„œ deploy from branchê°€ ì•„ë‹ˆë¼ Github Actionsë¥¼ ëˆŒëŸ¬ ë¸”ë¡œê·¸ë¥¼ ë°°í¬í•œ ì ì´ ìˆëŠ”ë°, ê·¸ë˜ì„œ ê·¸ ì”ì—¬ë¬¼ì´ ë‚¨ì•„ìˆëŠ” ê²ƒ ê°™ë‹¤

### ì–´ì©Œë‹¤ë³´ë‹ˆ Github Actions ê³µë¶€
[ì¹¨ê³ ìë£Œ](https://www.daleseo.com/github-actions-basics/)ë¡œ Github Actionsì— ëŒ€í•´ ê°„ë‹¨íˆ ìì„¸íˆ ì•Œì•„ë³´ì

1. Github Actionsë€ ì½”ë“œ ì €ì¥ì†Œì—ì„œ ë³€í™”ê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ í•´ì•¼í•˜ëŠ” ì‘ì—…ë“¤ì„ ìë™í™”í•´ë‘” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì²˜ìŒ ì´ëŸ° ì‘ì—…ì„ ì„¸íŒ…í•´ë‘ë©´, ë°°í¬ì—ì„œ í•„ìš”í•œ ì¼ë“¤ì„ ìë™í™”í•´ ì¶”ê°€ì ì¸ ì„¤ì •ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤.

2. workflowëŠ” ë³€í™” ì‹œì ì„, jobsëŠ” ì‘ì—…ì„ ì˜ë¯¸í•œë‹¤

ë„¤ì´ë²„ ë¸”ë¡œê·¸ì™€ ê°™ì´ ì»¤ìŠ¤í…€ì´ ë¶ˆê°€ëŠ¥í•œ ë¸”ë¡œê·¸ë§Œ ì‘ì„±í•˜ë‹¤ê°€, GitPageë¥¼ ì‘ì„±í•˜ë©´ì„œ 'ë°°í¬'ë¼ëŠ” ê²ƒì´ ìë™ìœ¼ë¡œ ì¼ì–´ë‚˜ëŠ” ê²ƒì´ ì•„ë‹˜ì„ ì†ìˆ˜ ê¹¨ë‹«ê²Œ ë˜ëŠ” ê²ƒ ê°™ë‹¤ ğŸ˜…

#### ë³¸ê²©ì ì¸ ì½”ë“œ ë¦¬ë·°

ê¸€ì´ ë„ˆë¬´ ê¸¸ì–´ì ¸ì„œ ë‚´ repoì— ìˆëŠ” ì½”ë“œë§Œ ì´í•´í•´ë³´ë ¤ í•œë‹¤.

ì½”ë“œê°€ ë¬´ì—‡ì¸ì§€ ì´í•´í•˜ê¸° ìœ„í•´ ê¸€ì„ ì‘ì„±í–ˆëŠ”ë°, ëª…ë ¹ì–´ í•˜ë‚˜í•˜ë‚˜ê°€ ë¬´ì—‡ì¸ì§€ ì•Œê³  ì‹¶ë‹¤ë©´ [github docs](https://docs.github.com/ko/actions/examples/using-scripts-to-test-your-code-on-a-runner#features-used-in-this-example)ë¥¼ ì°¸ê³ í•˜ë©´ ëœë‹¤.

ë‚´ repoì—ì„œëŠ” main ë¸Œëœì¹˜ì— pushë  ë•Œ ì‘ì—…ì„ ì‹¤í–‰í•œë‹¤!
```
on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]
```

ì‘ì—…ì€ build and deployì´ë‹¤.

ë¨¼ì € buildë¥¼ ì‚´í´ë³´ì.

```
build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Setup Pages
        uses: actions/configure-pages@v3
      - name: Build with Jekyll
        uses: actions/jekyll-build-pages@v1
        with:
          source: ./
          destination: ./_site
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v1
```

ì‘ì—…ì€ GitHubì—ì„œ í˜¸ìŠ¤íŠ¸í•˜ëŠ” ubuntu-latest ì‹¤í–‰ê¸°ì—ì„œ ì‹¤í–‰ëœë‹¤. `uses`ëŠ” í•´ë‹¹ ì‘ì—…ì„ ê²€ìƒ‰í•˜ë„ë¡ ì§€ì‹œí•˜ëŠ” ëª…ë ¹ì–´ë‹¤. ì—¬ê¸°ì— ì§€ì •ëœ actionsëŠ” [ì´ë¯¸ Marketplaceì— ì˜¬ë¼ì˜¨ ê²ƒë“¤](https://github.com/actions/)ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê³ , [custom](https://docs.github.com/en/actions/creating-actions/about-custom-actions#using-release-management-for-actions)í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

# 1. uses: actions/checkout@v3
ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì²´í¬ ì•„ì›ƒí•˜ê³  ì‹¤í–‰ê¸°ë¡œ ë‹¤ìš´ë¡œë“œí•œë‹¤. gitì—ì„œ `checkout`ì€  ë¸Œëœì¹˜ë¥¼ ë°”ê¾¸ëŠ” ëª…ë ¹ì–´ë‹¤.

# 2. uses: actions/configure-pages@v3
[ì—¬ê¸°](https://github.com/actions/configure-pages/blob/main/action.yml)ì—ì„œ í™•ì¸í•´ë³´ë©´, GitPageì— ê´€í•œ metadataë¥¼ ìƒì„±í•œë‹¤ê³  í•œë‹¤. ì–´ë–¤ metadataì¸ì§€ëŠ” í•˜ë‹¨ì— ë³´ê¸° ì‰½ê²Œ ì ì–´ë‘ì—ˆë‹¤.

|metadata|ì˜ˆì‹œ|_config.yml|
|:--------|:-----------------------------------|-----------|
|base_url|https://octocat.github.io/my-repo|base_url|
|origin|https://octocat.github.io||
|host|octocat.github.io||
|base_path|/my-repo|url|

_config.ymlì—ì„œ `url`ê³¼ `base_url`ë¡œ ì§€ì •í•´ì£¼ì—ˆë˜ ë¶€ë¶„ì´ ë“¤ì–´ê°€ëŠ” ê²ƒ ê°™ë‹¤. 

ê½¤ ë†€ë¼ìš´ ì ì€, ë¬´ì¡°ê±´ Github tokenì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì´ë‹¤. 

```
token:
    description: 'GitHub token'
    default: ${{ github.token }}
    required: true
```

tokenì€ ë¡œê·¸ì¸ì„ ì¸ì¦í•˜ê¸° ìœ„í•œ ê²ƒì´ë¼ê³  ì•Œê³  ìˆëŠ”ë°, [ì—¬ê¸°](https://zzsza.github.io/development/2020/06/06/github-action/)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë“¯ì´, workflowì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•œë„ê°€ ìˆê¸° ë•Œë¬¸ì¸ ê²ƒìœ¼ë¡œ ì¶”ì •ëœë‹¤.

# 3. uses: actions/jekyll-build-pages@v1
jekyllì´ ì •ì  í˜ì´ì§€ë¥¼ ìƒì„±í•´ì£¼ê¸° ë•Œë¬¸ì—, ë§ˆì§€ë§‰ìœ¼ë¡œ í˜ì´ì§€ë¥¼ buildí•˜ëŠ” ê³¼ì •ì—ì„œ í•„ìš”í•œ ê²ƒ ê°™ë‹¤.

deployë¥¼ ì‚´í´ë³´ì.
```
deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v1
```

ë§ˆì°¬ê°€ì§€ë¡œ [actions/deploy-pages](https://github.com/actions/deploy-pages)ê°€ ë¬´ì—‡ì¸ì§€ í™•ì¸í•˜ë©´ ë™ì‘ë°©ì‹ì„ ì´í•´í•  ìˆ˜ ìˆë‹¤.

ë°°í¬ë€, ì‚¬ìš©ìê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì— ë°°ì¹˜ì‹œí‚¤ëŠ” ì¼ì´ë‹¤. ê·¸ë˜ì„œ ì´ ì‘ì—…ì´ ì‹¤í–‰ë˜ë©´ ì ‘ê·¼ ê°€ëŠ¥í•œ page_urlì„ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. 

ë°°í¬ ê³¼ì •ì—ì„œ Actions íƒ­ì— ë“¤ì–´ê°€ë©´, ë°°í¬ê°€ ì œëŒ€ë¡œ ë˜ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤. [ì—¬ê¸°](https://github.com/actions/deploy-pages/blob/main/action.yml)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë“¯ì´ ë°°í¬ê°€ ì œëŒ€ë¡œ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê³¼ì •ì—ì„œ `timeout`ì´ë‚˜ `error_count`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.

ì•„ë§ˆ ì²˜ìŒ ì‹œì‘í•˜ë©´ì„œ ê¸°ë³¸ ì„¤ì •ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í–ˆë˜ ê²ƒ ê°™ì€ë°, ë•ë¶„ì— GitPageê°€ ì–´ë–»ê²Œ ìë™ìœ¼ë¡œ ë°°í¬ë˜ëŠ”ì§€ ì›ë¦¬ë¥¼ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.

### ì¶”ê°€ì ìœ¼ë¡œ ì•Œê²Œëœ ì‚¬ì‹¤ë“¤
#### `bundle exec jekyll serve`ì˜ ëœ»

jekyll ì„œë²„ë¥¼ ì—´ê² ë‹¤ëŠ” ëœ»ì´ë‹¤. 

#### build and deploymentì—ì„œ deploy
ê°œë°œì—ì„œì˜ deploy = ë°°í¬

## ì†Œê°
CI/CDëŠ” ì´ˆë³´ ê°œë°œìì¸ ë‚˜ì—ê² ì•„ì§ ë¨¼ ê¸¸ì²˜ëŸ¼ ëŠê»´ì ¸ì„œ ì´ìª½ì— ëŒ€í•œ ê³µë¶€ëŠ” ê±°ì˜ í•˜ì§€ ì•Šì•˜ì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ í”ŒëŸ¬í„° ë°°í¬ë¶€í„° ì‹œì‘í•´ì„œ ìš°ì—°íˆ Github Actionsê¹Œì§€.. ê°‘ìê¸° ì•Œê²Œ ë˜ëŠ” ê²ƒë“¤ì´ ìƒê²¨ ì‹ ê¸°í•˜ë‹¤. 

ì‚¬ì‹¤ yaml ë¬¸ë²•ë„ ëª¨ë¥´ê³  ê·¸ì € íƒ­ì„ ì‚¬ìš©í•´ì„œ êµ¬ë¶„í•œë‹¤ ì •ë„ë§Œ ì•Œê³  ìˆì—ˆë‹¤. ê·¸ë™ì•ˆ ì½”ë“œ ì´í•´í•˜ê³  ë‚´ ë¸”ë¡œê·¸ì— ë§ê²Œ ë°”ê¾¸ê¸°ë§Œ ê¸‰ê¸‰í–ˆëŠ”ë° Github Actionsê°™ì€ ë°°í¬ ìë™í™” íˆ´ë„ yamlë¡œ ì‘ì„±ë˜ë‹ˆ yaml ë¬¸ë²•ë„ ì œëŒ€ë¡œ! ì•Œì•„ë‘ëŠ” ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

### ì°¸ê³ ìë£Œ
- [github ê³µì‹ docs](https://docs.github.com/ko/actions/examples/using-scripts-to-test-your-code-on-a-runner)
- [github actions ê°œë… ì°¸ê³ ìë£Œ1 - ê°œë… ì´í•´](https://www.daleseo.com/github-actions-basics/)
- [github actions ê°œë… ì°¸ê³ ìë£Œ2 - ìì„¸í•œ ì´í•´](https://zzsza.github.io/development/2020/06/06/github-action/)